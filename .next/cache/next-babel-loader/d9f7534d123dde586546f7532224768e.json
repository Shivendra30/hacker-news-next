{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../components/Header\";\nimport axios from \"axios\";\nimport getTimePassed from \"../helpers/getTimePassed\";\nimport { useState, useEffect } from \"react\";\nimport Head from \"next/head\";\n\nconst Top = props => {\n  const {\n    0: topStories,\n    1: setTopStories\n  } = useState(props.topStories);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    setLoading(true);\n\n    try {\n      const res = await axios.get(\"https://hacker-news.firebaseio.com/v0/topstories.json\");\n      let promises = res.data.slice(0, 10).map(id => {\n        return axios.get(`https://hacker-news.firebaseio.com/v0/item/${id}.json`);\n      });\n      const result = await Promise.all(promises);\n      setTopStories(result.map(i => i.data));\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Top Stories\"), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: \"Top Stories\"\n  })), __jsx(\"div\", {\n    style: {\n      backgroundColor: \"#f2f3f5\"\n    }\n  }, __jsx(Header, null), __jsx(\"h2\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, \" Top Stories\"), loading && __jsx(\"p\", null, \"Loading...\"), __jsx(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"auto\",\n      backgroundColor: \"white\"\n    }\n  }, topStories.map(renderStory))));\n};\n\nconst renderStory = story => {\n  const {\n    score,\n    title,\n    by,\n    time,\n    kids,\n    id\n  } = story;\n  return __jsx(\"div\", {\n    key: id,\n    className: \"storyContainer\"\n  }, __jsx(\"p\", {\n    className: \"storyScore\"\n  }, score), __jsx(\"div\", {\n    className: \"innerStoryContainer\"\n  }, title, __jsx(\"div\", {\n    className: \"storyDetailsContainer\"\n  }, __jsx(\"p\", {\n    style: {\n      opacity: 0.75,\n      margin: \"0px\"\n    }\n  }, \"by \", by, \" \", getTimePassed(time), \" | \", kids && `${kids.length} comments`))), styles());\n};\n\nconst styles = () => __jsx(_JSXStyle, {\n  id: \"1593460232\"\n}, [\".storyContainer{display:grid;grid-template-columns:1fr 6fr;border-bottom:1px solid #f2f3f5;padding:0.75em;}\", \".storyScore{color:#f60;font-weight:bold;font-size:1.5em;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;margin:1rem;}\", \".innerStoryContainer{dispaly:-webkit-box;dispaly:-webkit-flex;dispaly:-ms-flexbox;dispaly:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:1rem;justifycontent:center;}\", \".storyDetailsContainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}\"]);\n\nexport async function getStaticProps(ctx) {\n  //Get the first page of stories here\n  return {\n    props: {\n      topStories: []\n    }\n  };\n}\nexport default Top;","map":null,"metadata":{},"sourceType":"module"}