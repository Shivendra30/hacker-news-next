{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../components/Header\";\nimport axios from \"axios\";\nimport getTimePassed from \"../helpers/getTimePassed\";\n\nvar Ask = function Ask(props) {\n  // console.log(props.askStories);\n  return __jsx(\"div\", {\n    style: {\n      backgroundColor: \"#f2f3f5\"\n    }\n  }, __jsx(Header, null), __jsx(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"auto\",\n      backgroundColor: \"white\"\n    }\n  }, props.askStories.map(renderStory)));\n};\n\nvar renderStory = function renderStory(story) {\n  var score = story.score,\n      title = story.title,\n      by = story.by,\n      time = story.time,\n      kids = story.kids,\n      id = story.id;\n  return __jsx(\"div\", {\n    key: id,\n    className: \"storyContainer\"\n  }, __jsx(\"p\", {\n    className: \"storyScore\"\n  }, score), __jsx(\"div\", {\n    className: \"innerStoryContainer\"\n  }, title.split(\"Ask HN:\")[1], __jsx(\"div\", {\n    className: \"storyDetailsContainer\"\n  }, __jsx(\"p\", {\n    style: {\n      opacity: 0.75,\n      margin: \"0px\"\n    }\n  }, \"by \", by, \" \", getTimePassed(time), \" | \", kids && \"\".concat(kids.length, \" comments\")))), styles());\n};\n\nvar styles = function styles() {\n  return __jsx(_JSXStyle, {\n    id: \"1593460232\"\n  }, [\".storyContainer{display:grid;grid-template-columns:1fr 6fr;border-bottom:1px solid #f2f3f5;padding:0.75em;}\", \".storyScore{color:#f60;font-weight:bold;font-size:1.5em;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;margin:1rem;}\", \".innerStoryContainer{dispaly:-webkit-box;dispaly:-webkit-flex;dispaly:-ms-flexbox;dispaly:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:1rem;justifycontent:center;}\", \".storyDetailsContainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}\"]);\n};\n\nexport default Ask;\n\nAsk.getInitialProps = function _callee() {\n  var res, promises, result;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios.get(\"https://hacker-news.firebaseio.com/v0/askstories.json?\"));\n\n        case 2:\n          res = _context.sent;\n          promises = res.data.map(function (id) {\n            return axios.get(\"https://hacker-news.firebaseio.com/v0/item/\".concat(id, \".json\"));\n          });\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(Promise.all(promises));\n\n        case 6:\n          result = _context.sent;\n          return _context.abrupt(\"return\", {\n            askStories: result.map(function (i) {\n              return i.data;\n            })\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}; // export async function getStaticProps() {\n//   const res = await axios.get(\n//     \"https://hacker-news.firebaseio.com/v0/askstories.json?\"\n//   );\n//   let promises = res.data.map(id => {\n//     return axios.get(`https://hacker-news.firebaseio.com/v0/item/${id}.json`);\n//   });\n//   const result = await Promise.all(promises);\n//   return {\n//     props: {\n//       askStories: result.map(i => i.data)\n//     }\n//   };\n// }","map":null,"metadata":{},"sourceType":"module"}