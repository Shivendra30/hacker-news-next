{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../components/Header\";\nimport axios from \"axios\";\nimport getTimePassed from \"../helpers/getTimePassed\";\nimport { useState, useEffect } from \"react\";\nimport Head from \"next/head\";\n\nvar Top = function Top(props) {\n  var _useState = useState(props.topStories),\n      topStories = _useState[0],\n      setTopStories = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = function getData() {\n    var res, promises, result;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.get(\"https://hacker-news.firebaseio.com/v0/topstories.json\"));\n\n          case 4:\n            res = _context.sent;\n            promises = res.data.slice(0, 10).map(function (id) {\n              return axios.get(\"https://hacker-news.firebaseio.com/v0/item/\".concat(id, \".json\"));\n            });\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(Promise.all(promises));\n\n          case 8:\n            result = _context.sent;\n            setTopStories(result.map(function (i) {\n              return i.data;\n            }));\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 15:\n            _context.prev = 15;\n            setLoading(false);\n            return _context.finish(15);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 12, 15, 18]], Promise);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Top Stories\"), __jsx(\"meta\", {\n    property: \"og:title\",\n    content: \"Top Stories\"\n  })), __jsx(\"div\", {\n    style: {\n      backgroundColor: \"#f2f3f5\"\n    }\n  }, __jsx(Header, null), __jsx(\"h2\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, \" Top Stories\"), loading && __jsx(\"p\", null, \"Loading...\"), __jsx(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"auto\",\n      backgroundColor: \"white\"\n    }\n  }, topStories.map(renderStory))));\n};\n\nvar renderStory = function renderStory(story) {\n  var score = story.score,\n      title = story.title,\n      by = story.by,\n      time = story.time,\n      kids = story.kids,\n      id = story.id;\n  return __jsx(\"div\", {\n    key: id,\n    className: \"storyContainer\"\n  }, __jsx(\"p\", {\n    className: \"storyScore\"\n  }, score), __jsx(\"div\", {\n    className: \"innerStoryContainer\"\n  }, title, __jsx(\"div\", {\n    className: \"storyDetailsContainer\"\n  }, __jsx(\"p\", {\n    style: {\n      opacity: 0.75,\n      margin: \"0px\"\n    }\n  }, \"by \", by, \" \", getTimePassed(time), \" | \", kids && \"\".concat(kids.length, \" comments\")))), styles());\n};\n\nvar styles = function styles() {\n  return __jsx(_JSXStyle, {\n    id: \"1593460232\"\n  }, [\".storyContainer{display:grid;grid-template-columns:1fr 6fr;border-bottom:1px solid #f2f3f5;padding:0.75em;}\", \".storyScore{color:#f60;font-weight:bold;font-size:1.5em;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;margin:1rem;}\", \".innerStoryContainer{dispaly:-webkit-box;dispaly:-webkit-flex;dispaly:-ms-flexbox;dispaly:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:1rem;justifycontent:center;}\", \".storyDetailsContainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}\"]);\n};\n\nexport var __N_SSG = true;\nexport default Top;","map":null,"metadata":{},"sourceType":"module"}